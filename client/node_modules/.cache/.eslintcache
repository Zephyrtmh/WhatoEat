[{"C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\index.js":"1","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\App.js":"2","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\reportWebVitals.js":"3","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Shoplist.js":"4","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\GoogleMap.js":"5","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Sidebar.js":"6","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Navbar.js":"7","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\Context\\FoodContext.js":"8","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\utils\\utils.js":"9","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Shop.js":"10","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Searchbox.js":"11","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\ListFilters.js":"12","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Filter.js":"13"},{"size":517,"mtime":1650033543662,"results":"14","hashOfConfig":"15"},{"size":4392,"mtime":1652373016593,"results":"16","hashOfConfig":"15"},{"size":375,"mtime":1650033543663,"results":"17","hashOfConfig":"15"},{"size":1865,"mtime":1652127480368,"results":"18","hashOfConfig":"15"},{"size":2970,"mtime":1652368596791,"results":"19","hashOfConfig":"15"},{"size":743,"mtime":1650126915900,"results":"20","hashOfConfig":"15"},{"size":783,"mtime":1652368596792,"results":"21","hashOfConfig":"15"},{"size":113,"mtime":1650041296201,"results":"22","hashOfConfig":"15"},{"size":3811,"mtime":1652377245854,"results":"23","hashOfConfig":"15"},{"size":1089,"mtime":1652373293608,"results":"24","hashOfConfig":"15"},{"size":1104,"mtime":1650033543660,"results":"25","hashOfConfig":"15"},{"size":3487,"mtime":1652377299466,"results":"26","hashOfConfig":"15"},{"size":3091,"mtime":1650168829814,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"13o43co",{"filePath":"31","messages":"32","suppressedMessages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\index.js",[],[],"C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\App.js",["77","78","79","80","81"],[],"import logo from './logo.svg';\r\nimport { Component, useEffect } from 'react';\r\nimport './App.css';\r\nimport GoogleMap from './components/GoogleMap.js';\r\nimport Shoplist from './components/Shoplist.js';\r\n\r\nimport Sidebar from './components/Sidebar';\r\nimport Navbar from './components/Navbar';\r\nimport { FoodContext } from './Context/FoodContext';\r\nimport { filterShops, getCurrLocation, getPlaces, random_food } from './utils/utils';\r\n\r\n\r\nclass App extends Component {\r\n\r\n  static contextType = FoodContext;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      extended: false,\r\n      foodItem: '',\r\n      setFoodItem: this.setFoodItem,\r\n      location: {\"lat\": '1.3521', \"lng\": '103.8198'},\r\n      places: [],\r\n      activePlace: ''\r\n    };\r\n\r\n    this.handleMenuClick = this.handleMenuClick.bind(this);\r\n    this.setFoodItem = this.setFoodItem(this);\r\n    this.handleSortButton = this.handleSortButton.bind(this);\r\n    this.handleRandomButtonClick = this.handleRandomButtonClick.bind(this); \r\n    this.handleShopGridClick = this.handleShopGridClick.bind(this);\r\n    this.setCurrLoc = this.setCurrLoc.bind(this);\r\n  }\r\n\r\n  handleMenuClick() {\r\n    this.setState({extended: !this.state.extended});\r\n  }\r\n\r\n  handleSortButton(choice) {\r\n    // choice -> \"distance\" or \"rating\"\r\n    const sortedShops = filterShops(choice, this.state.places, this.state.location)\r\n    this.setState({places: sortedShops})\r\n    console.log(\"shoplist sorted\", sortedShops)\r\n  }\r\n\r\n  async handleRandomButtonClick() {\r\n    //randomise places\r\n    random_food([]).then((selectFood) => {\r\n      this.state.setFoodItem(selectFood.food_name);\r\n    });    \r\n  }\r\n\r\n  handleShopGridClick(activePlace) {\r\n    this.setState({ activePlace: activePlace })\r\n    console.log(\"activePlace: \", activePlace)\r\n  }\r\n\r\n  setCurrLoc = async (location) => {\r\n    this.setState({ location: { \"lat\": location.lat, \"lng\": location.lng }})\r\n    console.log(\"new location: \", this.state.location)\r\n    let places = await getPlaces(this.state.foodItem, this.state.location.lat, this.state.location.lng)\r\n    this.setState({places: places})\r\n  }\r\n\r\n  setFoodItem = async (food) => {\r\n    \r\n    this.setState({foodItem: food});\r\n    console.log(food)\r\n    \r\n    if (this.state.foodItem != '') {\r\n      let places = await getPlaces(this.state.foodItem, this.state.location.lat, this.state.location.lng)\r\n      this.setState({places: places});\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"location updated\")\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        let lat = position.coords.latitude;\r\n        let lng = position.coords.longitude;\r\n        this.setState({location: { \"lat\": lat, \"lng\": lng }});\r\n        console.log(this.state.location)\r\n      });\r\n    } else {\r\n      console.log(\"geolocation not available\");\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    console.log(\"app rendered\");\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        let lat = position.coords.latitude;\r\n        let lng = position.coords.longitude;\r\n        this.setState({location: { \"lat\": lat, \"lng\": lng }});\r\n        console.log(this.state.location)\r\n      });\r\n    } else {\r\n      console.log(\"geolocation not available\");\r\n    }\r\n    \r\n    return (\r\n      <FoodContext.Provider value={this.state}>\r\n        <body className=\"body-container\">\r\n          <div>\r\n            <GoogleMap \r\n            foodItem={this.state.foodItem != ''? this.state.foodItem : this.state.placeholder} \r\n            location={this.state.location} \r\n            places={this.state.places}\r\n            activePlace={this.state.activePlace}\r\n            setCurrLoc={this.setCurrLoc}/>\r\n            \r\n          </div>\r\n          <div className=\"sidebar-navbar\">\r\n            <div className = \"sidebar-container\">\r\n              <Sidebar extended={this.state.extended} setFoodItem={this.setFoodItem}/>\r\n            </div>\r\n            <Navbar onMenuClick={this.handleMenuClick} onRandomClick={this.handleRandomButtonClick} />\r\n          </div>\r\n\r\n          <Shoplist shops={this.state.places} extended={this.state.extended} location={this.state.location} handleSortButton={this.handleSortButton} onShopGridClick={this.handleShopGridClick}/>\r\n        \r\n          \r\n        </body>\r\n      </FoodContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\reportWebVitals.js",[],[],"C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Shoplist.js",["82","83","84","85","86","87"],[],"import React, { useEffect, useState } from 'react';\r\nimport { filterShops } from '../utils/utils.js';\r\nimport Shop from './Shop.js';\r\n\r\nfunction Shoplist(props) {\r\n\r\n    const [activeShops, setActiveShops] = useState([]);\r\n    const [distanceFilter, setDistanceFilter] = useState(\"shoplist-filter-button-unselected\");\r\n    const [ratingFilter, setRatingFilter] = useState(\"shoplist-filter-button-unselected\")\r\n\r\n    const onDistanceSortClick = () => {\r\n        console.log(\"Distance filter clicked\")\r\n        props.handleSortButton(\"distance\")\r\n    }\r\n\r\n    const onRatingSortClick = () => {\r\n        console.log(\"Rating filter clicked\")\r\n        props.handleSortButton(\"rating\")\r\n    }\r\n    \r\n    const shopNames = props.shops.map((shop) => \r\n        <li key={shop['place_id']}><Shop name={shop['name']} details ={shop}/></li>\r\n    );\r\n\r\n    let extended = \"shoplist-hidden\"\r\n    \r\n    if (props.extended === true) {\r\n        extended = \"shoplist-extended\"\r\n\r\n    }\r\n\r\n    let hideFilter = \"shoplist-filter-container\"\r\n    if (extended === \"shoplist-extended\" && props.shops.length == 0) {\r\n        hideFilter = \"shoplist-filter-container-hidden\"\r\n    }\r\n\r\n    useEffect(() => {\r\n        setActiveShops(props.shops)\r\n        console.log(activeShops)\r\n    });\r\n\r\n    \r\n    return (\r\n        <div className={extended}>\r\n\r\n            {props.shops.length==0 ?\r\n\r\n            <p>No shops loaded.</p> : \r\n\r\n            <div className={hideFilter}>\r\n                <p>Sort by: </p>\r\n                <button className={ratingFilter} onClick = {onRatingSortClick}>Rating</button>\r\n                <button className={distanceFilter} onClick = {onDistanceSortClick}>Distance</button>\r\n            </div>\r\n            }\r\n            \r\n\r\n            <ul className=\"shoplist-list\">{shopNames}</ul>\r\n            \r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Shoplist;","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\GoogleMap.js",["88","89","90"],[],"import React, { useEffect, useState } from \"react\";\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper, Size } from \"google-maps-react\";\r\n\r\nfunction GoogleMap(props) {\r\n    console.log(props.location)\r\n    const style = {\r\n        height: '100%',\r\n        width: '100%'\r\n    };\r\n    \r\n    const [activeMarker, setActiveMarker] = useState('')\r\n    const [activeShop, setActiveShop] = useState('')\r\n\r\n    function onMarkerClick(props, marker, e) {\r\n        console.log(\"marker clicked\");\r\n        console.log(marker);\r\n        setActiveMarker(marker);\r\n        if (props.shop) {\r\n            setActiveShop(props.shop)\r\n        } else {\r\n            setActiveShop({\"name\":\"Your location\"})\r\n        }\r\n    }\r\n\r\n    function handleMarkerDragEnd(props, marker, e) {\r\n        console.log(e.latLng.lat(), e.latLng.lng())\r\n        props.setCurrLoc( { \"lat\": e.latLng.lat(), \"lng\": e.latLng.lng() })\r\n    }\r\n\r\n    const createMarkers = () => {\r\n        const markers = props.places.map((shop)=> \r\n        <Marker \r\n        onClick={onMarkerClick}\r\n        position={shop['geometry']['location']} \r\n        title={shop['name']} \r\n        name={shop['name']}\r\n        icon={{\r\n            \"url\": require(\"../resources/images/marker.png\"),\r\n            \"scaledSize\": new props.google.maps.Size(64,64)\r\n        }}\r\n        // add shop details as prop into marker\r\n        shop={shop} />\r\n        \r\n        );\r\n        return markers\r\n    }\r\n\r\n    return (\r\n        \r\n        <div>\r\n            \r\n            <Map \r\n            google={props.google} \r\n            initialCenter= {props.location.lat != '' ? props.location : {\"lat\": 1.3521, \"lng\": 103.8198}} \r\n            zoom={16} \r\n            style={style} \r\n            streetViewControl={false} \r\n            fullscreenControl={false} \r\n            mapTypeControl={false}>\r\n                {/* Marker for currect location */}\r\n                <Marker \r\n                onClick={onMarkerClick} \r\n                draggable={true} \r\n                position={props.mapCenter} \r\n                onDragend={handleMarkerDragEnd} \r\n                setCurrLoc={props.setCurrLoc}>\r\n                    <InfoWindow visible={true} position={props.mapCenter}>\r\n                        <div>\r\n                            <p>Drag me to your location or enable location access!</p>\r\n                        </div>\r\n                    </InfoWindow>\r\n                </Marker>\r\n                \r\n                {/* Markers for shops in shopslist */}\r\n                {createMarkers()}\r\n                <InfoWindow visible={true} marker={activeMarker}>\r\n                    <div className=\"info-window\">\r\n                        <p>{activeShop.name}</p>\r\n                    </div>\r\n                </InfoWindow>\r\n            </Map>\r\n            \r\n        </div>\r\n        \r\n    );\r\n    \r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: \"AIzaSyCopFWv0YMtXgVgDtt5ujO_v_3xbPV-LCA\"\r\n    // AIzaSyCopFWv0YMtXgVgDtt5ujO_v_3xbPV-LCA\r\n})(GoogleMap)","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Sidebar.js",["91"],[],"import React, { Component } from 'react'\r\nimport ListFilters from './ListFilters';\r\n\r\nexport default class Sidebar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        let className = 'sidebar-hidden'\r\n        if (this.props.extended === true) {\r\n            className = 'sidebar-extended';\r\n        }\r\n        let something = \"something\";\r\n\r\n        return (\r\n        <div className={className}>\r\n            <div id=\"logo-img-container\">\r\n                <img id=\"logo-img\"src={require(\"../resources/images/whatoeat-logo.png\")} alt=\"Logo\"/>\r\n            </div>\r\n    \r\n            <ListFilters setFoodItem={this.props.setFoodItem} sonmething={something}/>\r\n        </div>\r\n        )\r\n    }\r\n}","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Navbar.js",["92","93"],[],"import Searchbox from './Searchbox.js';\r\nimport React, { Component } from 'react';\r\nimport { getPlaces, random_food } from '../utils/utils';\r\n\r\nexport default class Navbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          placeholder: random_food(),\r\n          food: '',\r\n        };\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"navbar\">\r\n            <button className=\"menu-button\"> \r\n                <img className=\"menu-img\" src={require(\"../resources/images/burger-menu-2.png\")} alt=\"menu\" onClick={this.props.onMenuClick}/>\r\n            </button>\r\n            <button className=\"random-button\" onClick={this.props.onRandomClick}>WHAT TO EAT?!</button>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\Context\\FoodContext.js",["94"],[],"import React from \"react\";\r\nimport { createContext } from \"react\";\r\n\r\nexport const FoodContext = createContext();","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\utils\\utils.js",["95"],[],"export async function random_food(foodChoices=[]) {\r\n    async function getFood() {\r\n        if (foodChoices.length === 0) {\r\n            const response = await fetch(\"/food\");\r\n            const foodChoicesObj = await response.json();\r\n            const allFood = Object.values(foodChoicesObj);\r\n            return allFood\r\n        } else {\r\n            return foodChoices\r\n        }\r\n        \r\n    }\r\n    foodChoices = await getFood();\r\n    const randInt = Math.floor(Math.random()*foodChoices.length);\r\n    const choice = foodChoices[randInt];\r\n    console.log(\"choice: \", choice)\r\n    return choice\r\n}\r\n\r\nexport function convertFiltersFormat(filters) {\r\n    //example format of input:\r\n    // {\r\n    //     fried: \"yes\"\r\n    //     halal: \"either\"\r\n    //     hot: \"either\"\r\n    //     shared: \"yes\"\r\n    //     soup: \"either\"\r\n    //     spicy: \"either\"\r\n    //     vegetarian: \"either\"\r\n    // }\r\n\r\n    //example format of output:\r\n    // format of req data\r\n    // {\r\n    //     \"filters\": [\"soup\", \"halal\", \"spicy\"],\r\n    //     \"values\": [true, false, true]\r\n    // }\r\n    \r\n    for (let key of Object.keys(filters)) {\r\n        if (filters[key] === 'either') {\r\n            delete filters[key];\r\n        }\r\n    }\r\n    return {\"filters\": Object.keys(filters), \"values\": Object.values(filters)}\r\n}\r\n\r\nexport async function getPlaces(keyword, lat, lng) {\r\n    try {\r\n        let req = {\"search\": keyword, \"lat\": lat, \"lng\": lng}\r\n        // console.log(req)\r\n        const response = await fetch(\"/places\", {method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(req)});\r\n        const body = await response.json()\r\n        let places = []\r\n        for (let place in body) {\r\n            places.push(body[place])\r\n        }\r\n        console.log(places)\r\n        return places\r\n    }\r\n    catch (err) {\r\n        console.error(err.message)\r\n    }\r\n    \r\n}\r\n\r\nexport function filterShops(filterBy, shopsList, currLoc) {\r\n    switch(filterBy) {\r\n        case \"default\":\r\n            console.log(\"filter shops by default\")\r\n            return shopsList\r\n\r\n        case \"rating\":\r\n            console.log(\"filter shops by ratings\")\r\n            shopsList.sort((first, second) => {\r\n                return second[\"rating\"] - first[\"rating\"]\r\n            })\r\n            console.log(\"new rating sorted list\")\r\n            console.log(shopsList)\r\n            return shopsList\r\n\r\n        case \"distance\":\r\n            console.log(\"filter shops by distance\")\r\n            console.log(currLoc)\r\n            shopsList.sort((first, second) => {\r\n                console.log(second['geometry']['location'], first['geometry']['location'])\r\n                let dist2 = calcDist(currLoc, second['geometry']['location']);\r\n                let dist1 = calcDist(currLoc, first['geometry']['location']);\r\n                console.log(dist2, dist1)\r\n                return dist1 - dist2\r\n            })\r\n            console.log(\"new distance sorted list\")\r\n            console.log(shopsList)\r\n            return shopsList\r\n    } \r\n    \r\n    return shopsList\r\n}\r\n\r\n\r\n\r\nexport function calcDist(curr, dest) {\r\n    let currLat = curr.lat;\r\n    let currLng = curr.lng;\r\n    let destLat = dest.lat;\r\n    let destLng = dest.lng;\r\n    //convert to Radians\r\n    currLat = currLat/(180/Math.PI);\r\n    destLat = destLat/(180/Math.PI);\r\n    currLng = currLng/(180/Math.PI);\r\n    destLng = destLng/(180/Math.PI);\r\n\r\n    const diffLat = destLat - currLat;\r\n    const diffLng = destLng - currLng;\r\n    //radius of Earth in KM = 6371\r\n    //Very loooooong formula to calculate distance that I definitely did not google for\r\n    const distance = 6371 * 2* Math.asin(Math.sqrt(Math.pow(Math.sin(diffLat/2),2) + Math.cos(currLat) * Math.cos(destLat) * Math.pow(Math.sin(diffLng / 2), 2)));\r\n    return distance\r\n}   ","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Shop.js",["96"],[],"import React from 'react';\r\n\r\nfunction Shop(props) {\r\n    let openStatus = '';\r\n    if (props.details['opening_hours']) {\r\n        openStatus = props.details['opening_hours']['open_now'] ? \"open\" : \"closed\";\r\n    } else {\r\n        openStatus = \"no info\";\r\n    }\r\n    let shopRatings;\r\n    if (props.details['user_ratings_total'] == 0) {\r\n        shopRatings = <p>No reviews</p>\r\n    } else {\r\n        shopRatings = <p className=\"shop-ratings\">Ratings: {props.details['rating']}/5 ({props.details['user_ratings_total']})</p>\r\n    }\r\n    console.log(props.details['name']);\r\n    // let isOpenJson = JSON.parse(props.details['opening_hours'])\r\n    // let isOpen = isOpenJson['open_now']\r\n    // const openStatus = isOpen ? \"open\" : \"closed\";\r\n    // console.log(isOpen);\r\n    return (\r\n        <div className=\"shopgrid\">\r\n            <h4 className=\"shopName\">{props.name}</h4>\r\n            {shopRatings}\r\n            <p className=\"shop-address\">Address: {props.details['vicinity']}</p>\r\n            <p>Opening: {openStatus}</p>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Shop;","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Searchbox.js",["97","98"],[],"import React, { Component } from 'react';\r\nimport { random_food } from '../utils/utils';\r\nimport { render } from '@testing-library/react';\r\n\r\nclass Searchbox extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {searchboxValue: ''};\r\n\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n\r\n    handleChange(event) {\r\n        this.setState({searchboxValue: event.target.value});\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        this.props.handleSubmit(this.state.searchboxValue);\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"searchbox\">\r\n                <form  onSubmit={this.handleSubmit}>\r\n                    <input className=\"searchbox-submit\" type=\"text\" value={this.state.searchboxValue} onChange={this.handleChange} placeholder={`${this.props.placeholder}?`} />\r\n                    {/* <input type=\"submit\" value=\"Submit\" /> */}\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Searchbox;\r\n\r\n\r\n\r\n","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\ListFilters.js",["99","100","101","102"],[],"import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport Filter from './Filter';\r\nimport { FoodContext } from '../Context/FoodContext';\r\nimport { random_food, convertFiltersFormat } from '../utils/utils';\r\n\r\nfunction ListFilters(props) {\r\n\r\n    const [filterAllList, setFilterList] = useState([]);\r\n    const [toFilter, setToFilter] = useState(true);\r\n    const [activeFilters, setActiveFilters] = useState({\"halal\": 'either'});\r\n\r\n\r\n    let context = useContext(FoodContext);\r\n\r\n\r\n\r\n\r\n    const handleFilterSelection = (filterName, value) => {\r\n        activeFilters[filterName] = value;\r\n        setActiveFilters(activeFilters);\r\n    }\r\n\r\n    const handleNoFilter = () => {\r\n        setToFilter(!toFilter);\r\n        console.log(\"toFilter set to \"+!toFilter);\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        try {\r\n            const convertedActiveFilters = convertFiltersFormat(activeFilters);\r\n            const response = await fetch(\"/submit\", { method:'POST', headers: {'Accept': 'application/json', 'Content-Type': 'application/json'}, body: JSON.stringify(convertedActiveFilters)});\r\n            let resJson = response.json();\r\n            // let foodNames = resJson.map((foodName) => console.log(foodName));\r\n            await resJson.then((data) => {\r\n                let food_names = [];\r\n                for (let food in data) {\r\n                    food_names.push(data[food].food_name);\r\n                }\r\n                let rand_food = random_food(food_names);\r\n                console.log(food_names);\r\n                console.log(rand_food);\r\n                random_food(food_names).then((food) => {\r\n                    context.setFoodItem(food);\r\n                })\r\n            \r\n            });\r\n        } catch (err) {\r\n            console.log(err.message)\r\n        }\r\n        \r\n    }\r\n\r\n    const foodContext = React.createContext('');\r\n\r\n    let foodFilters = []\r\n    \r\n\r\n    useEffect(() => {\r\n        const getFilters = async () => {\r\n            try {\r\n                // need to add check to prevent infinite loop\r\n                \r\n                const response = await fetch(\"/filters/\");\r\n                const jsonData = await response.json();\r\n                const filters = jsonData.map((filter) => \r\n                <li id={filter}><Filter filterName={filter.filter_name} toFilter={toFilter} handleFilterSelection={handleFilterSelection}/></li>\r\n                );\r\n                setFilterList(filters);\r\n                let someObj = {}\r\n                await jsonData.forEach(async (element) => {\r\n                    someObj[element.filter_name] = 'either';\r\n                    // activeFilters[element.food_name] = 'either';\r\n                })\r\n                // console.log(someObj);\r\n                setActiveFilters(someObj);        \r\n                \r\n                \r\n            } catch (err) {\r\n                console.error(err);\r\n            }\r\n        };\r\n        getFilters();\r\n    }, [toFilter]);\r\n\r\n    let noFilterClassName = toFilter ? \"no-filter-button-unselected\" : \"no-filter-button-selected\";\r\n\r\n    return (\r\n        <div id=\"filters-interface-container\">\r\n            <button className={noFilterClassName} onClick={handleNoFilter}>Remove filters</button>\r\n            <ul id=\"filter-list\">\r\n                {filterAllList}\r\n            </ul>\r\n            <button className=\"submit-button\" onClick={handleSubmit}>Submit</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListFilters","C:\\Users\\Zephy\\OneDrive\\Documents\\Personal\\Coding\\Coding Projects\\WhatoEat\\client\\src\\components\\Filter.js",[],[],{"ruleId":"103","severity":1,"message":"104","line":1,"column":8,"nodeType":"105","messageId":"106","endLine":1,"endColumn":12},{"ruleId":"103","severity":1,"message":"107","line":2,"column":21,"nodeType":"105","messageId":"106","endLine":2,"endColumn":30},{"ruleId":"103","severity":1,"message":"108","line":10,"column":23,"nodeType":"105","messageId":"106","endLine":10,"endColumn":38},{"ruleId":"109","severity":1,"message":"110","line":71,"column":29,"nodeType":"111","messageId":"112","endLine":71,"endColumn":31},{"ruleId":"109","severity":1,"message":"110","line":111,"column":43,"nodeType":"111","messageId":"112","endLine":111,"endColumn":45},{"ruleId":"103","severity":1,"message":"113","line":2,"column":10,"nodeType":"105","messageId":"106","endLine":2,"endColumn":21},{"ruleId":"103","severity":1,"message":"114","line":8,"column":28,"nodeType":"105","messageId":"106","endLine":8,"endColumn":45},{"ruleId":"103","severity":1,"message":"115","line":9,"column":26,"nodeType":"105","messageId":"106","endLine":9,"endColumn":41},{"ruleId":"109","severity":1,"message":"116","line":33,"column":64,"nodeType":"111","messageId":"112","endLine":33,"endColumn":66},{"ruleId":"117","severity":1,"message":"118","line":37,"column":5,"nodeType":"105","endLine":37,"endColumn":14,"suggestions":"119"},{"ruleId":"109","severity":1,"message":"116","line":46,"column":32,"nodeType":"111","messageId":"112","endLine":46,"endColumn":34},{"ruleId":"103","severity":1,"message":"107","line":1,"column":17,"nodeType":"105","messageId":"106","endLine":1,"endColumn":26},{"ruleId":"103","severity":1,"message":"120","line":2,"column":53,"nodeType":"105","messageId":"106","endLine":2,"endColumn":57},{"ruleId":"109","severity":1,"message":"110","line":54,"column":48,"nodeType":"111","messageId":"112","endLine":54,"endColumn":50},{"ruleId":"121","severity":1,"message":"122","line":5,"column":5,"nodeType":"123","messageId":"124","endLine":7,"endColumn":6},{"ruleId":"103","severity":1,"message":"125","line":1,"column":8,"nodeType":"105","messageId":"106","endLine":1,"endColumn":17},{"ruleId":"103","severity":1,"message":"126","line":3,"column":10,"nodeType":"105","messageId":"106","endLine":3,"endColumn":19},{"ruleId":"103","severity":1,"message":"127","line":1,"column":8,"nodeType":"105","messageId":"106","endLine":1,"endColumn":13},{"ruleId":"128","severity":1,"message":"129","line":67,"column":5,"nodeType":"130","messageId":"131","endLine":94,"endColumn":6},{"ruleId":"109","severity":1,"message":"116","line":11,"column":45,"nodeType":"111","messageId":"112","endLine":11,"endColumn":47},{"ruleId":"103","severity":1,"message":"132","line":2,"column":10,"nodeType":"105","messageId":"106","endLine":2,"endColumn":21},{"ruleId":"103","severity":1,"message":"133","line":3,"column":10,"nodeType":"105","messageId":"106","endLine":3,"endColumn":16},{"ruleId":"103","severity":1,"message":"134","line":1,"column":40,"nodeType":"105","messageId":"106","endLine":1,"endColumn":46},{"ruleId":"103","severity":1,"message":"135","line":53,"column":11,"nodeType":"105","messageId":"106","endLine":53,"endColumn":22},{"ruleId":"103","severity":1,"message":"136","line":55,"column":9,"nodeType":"105","messageId":"106","endLine":55,"endColumn":20},{"ruleId":"117","severity":1,"message":"137","line":83,"column":8,"nodeType":"138","endLine":83,"endColumn":18,"suggestions":"139"},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'getCurrLocation' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'filterShops' is defined but never used.","'setDistanceFilter' is assigned a value but never used.","'setRatingFilter' is assigned a value but never used.","Expected '===' and instead saw '=='.","react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setActiveShops'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [props.shops, activeShops] as a second argument to the useEffect Hook.",["140"],"'Size' is defined but never used.","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'Searchbox' is defined but never used.","'getPlaces' is defined but never used.","'React' is defined but never used.","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'random_food' is defined but never used.","'render' is defined but never used.","'useRef' is defined but never used.","'foodContext' is assigned a value but never used.","'foodFilters' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'handleFilterSelection'. Either include it or remove the dependency array.","ArrayExpression",["141"],{"desc":"142","fix":"143"},{"desc":"144","fix":"145"},"Add dependencies array: [props.shops, activeShops]",{"range":"146","text":"147"},"Update the dependencies array to be: [handleFilterSelection, toFilter]",{"range":"148","text":"149"},[1257,1257],", [props.shops, activeShops]",[2979,2989],"[handleFilterSelection, toFilter]"]