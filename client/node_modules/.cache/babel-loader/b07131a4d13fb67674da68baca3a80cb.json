{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Zephy\\\\OneDrive\\\\Documents\\\\Personal\\\\Coding\\\\Coding Projects\\\\WhatoEat\\\\client\\\\src\\\\components\\\\GoogleMap.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Map, InfoWindow, Marker, GoogleApiWrapper, Size } from \"google-maps-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GoogleMap(props) {\n  _s();\n\n  console.log(props.location);\n  const style = {\n    height: '100%',\n    width: '100%'\n  };\n  const [activeMarker, setActiveMarker] = useState('');\n  const [activeShop, setActiveShop] = useState('');\n\n  function onMarkerClick(props, marker, e) {\n    console.log(\"marker clicked\");\n    console.log(marker);\n    setActiveMarker(marker);\n\n    if (props.shop) {\n      setActiveShop(props.shop);\n    } else {\n      setActiveShop({\n        \"name\": \"Your location\"\n      });\n    }\n  }\n\n  function handleMarkerDragEnd(props, marker, e) {\n    console.log(e.latLng.lat(), e.latLng.lng());\n    props.setCurrLoc({\n      \"lat\": e.latLng.lat(),\n      \"lng\": e.latLng.lng()\n    });\n  }\n\n  const createMarkers = () => {\n    const markers = props.places.map(shop => /*#__PURE__*/_jsxDEV(Marker, {\n      onClick: onMarkerClick,\n      position: shop['geometry']['location'],\n      title: shop['name'],\n      name: shop['name'],\n      icon: {\n        \"url\": require(\"../resources/images/marker.png\"),\n        \"scaledSize\": new props.google.maps.Size(64, 64)\n      } // add shop details as prop into marker\n      ,\n      shop: shop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this));\n    return markers;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Map, {\n      google: props.google,\n      initialCenter: props.location.lat != '' ? props.location : {\n        \"lat\": 1.3521,\n        \"lng\": 103.8198\n      },\n      zoom: 16,\n      style: style,\n      streetViewControl: false,\n      fullscreenControl: false,\n      mapTypeControl: false,\n      children: [/*#__PURE__*/_jsxDEV(Marker, {\n        onClick: onMarkerClick,\n        draggable: true,\n        position: props.mapCenter,\n        onDragend: handleMarkerDragEnd,\n        setCurrLoc: props.setCurrLoc,\n        children: /*#__PURE__*/_jsxDEV(InfoWindow, {\n          visible: true,\n          position: props.mapCenter,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Drag me to your location or enable location access!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), createMarkers(), /*#__PURE__*/_jsxDEV(InfoWindow, {\n        visible: true,\n        marker: activeMarker,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-window\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: activeShop.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GoogleMap, \"VZdWsTM4blcgBsb16lx9i0c6EcA=\");\n\n_c = GoogleMap;\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyCopFWv0YMtXgVgDtt5ujO_v_3xbPV-LCA\" // AIzaSyCopFWv0YMtXgVgDtt5ujO_v_3xbPV-LCA\n\n})(GoogleMap);\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleMap\");","map":{"version":3,"names":["React","useEffect","useState","Map","InfoWindow","Marker","GoogleApiWrapper","Size","GoogleMap","props","console","log","location","style","height","width","activeMarker","setActiveMarker","activeShop","setActiveShop","onMarkerClick","marker","e","shop","handleMarkerDragEnd","latLng","lat","lng","setCurrLoc","createMarkers","markers","places","map","require","google","maps","mapCenter","name","apiKey"],"sources":["C:/Users/Zephy/OneDrive/Documents/Personal/Coding/Coding Projects/WhatoEat/client/src/components/GoogleMap.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Map, InfoWindow, Marker, GoogleApiWrapper, Size } from \"google-maps-react\";\r\n\r\nfunction GoogleMap(props) {\r\n    console.log(props.location)\r\n    const style = {\r\n        height: '100%',\r\n        width: '100%'\r\n    };\r\n    \r\n    const [activeMarker, setActiveMarker] = useState('')\r\n    const [activeShop, setActiveShop] = useState('')\r\n\r\n    function onMarkerClick(props, marker, e) {\r\n        console.log(\"marker clicked\");\r\n        console.log(marker);\r\n        setActiveMarker(marker);\r\n        if (props.shop) {\r\n            setActiveShop(props.shop)\r\n        } else {\r\n            setActiveShop({\"name\":\"Your location\"})\r\n        }\r\n    }\r\n\r\n    function handleMarkerDragEnd(props, marker, e) {\r\n        console.log(e.latLng.lat(), e.latLng.lng())\r\n        props.setCurrLoc( { \"lat\": e.latLng.lat(), \"lng\": e.latLng.lng() })\r\n    }\r\n\r\n    const createMarkers = () => {\r\n        const markers = props.places.map((shop)=> \r\n        <Marker \r\n        onClick={onMarkerClick}\r\n        position={shop['geometry']['location']} \r\n        title={shop['name']} \r\n        name={shop['name']}\r\n        icon={{\r\n            \"url\": require(\"../resources/images/marker.png\"),\r\n            \"scaledSize\": new props.google.maps.Size(64,64)\r\n        }}\r\n        // add shop details as prop into marker\r\n        shop={shop} />\r\n        \r\n        );\r\n        return markers\r\n    }\r\n\r\n    return (\r\n        \r\n        <div>\r\n            \r\n            <Map \r\n            google={props.google} \r\n            initialCenter= {props.location.lat != '' ? props.location : {\"lat\": 1.3521, \"lng\": 103.8198}} \r\n            zoom={16} \r\n            style={style} \r\n            streetViewControl={false} \r\n            fullscreenControl={false} \r\n            mapTypeControl={false}>\r\n                {/* Marker for currect location */}\r\n                <Marker \r\n                onClick={onMarkerClick} \r\n                draggable={true} \r\n                position={props.mapCenter} \r\n                onDragend={handleMarkerDragEnd} \r\n                setCurrLoc={props.setCurrLoc}>\r\n                    <InfoWindow visible={true} position={props.mapCenter}>\r\n                        <div>\r\n                            <p>Drag me to your location or enable location access!</p>\r\n                        </div>\r\n                    </InfoWindow>\r\n                </Marker>\r\n                \r\n                {/* Markers for shops in shopslist */}\r\n                {createMarkers()}\r\n                <InfoWindow visible={true} marker={activeMarker}>\r\n                    <div className=\"info-window\">\r\n                        <p>{activeShop.name}</p>\r\n                    </div>\r\n                </InfoWindow>\r\n            </Map>\r\n            \r\n        </div>\r\n        \r\n    );\r\n    \r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: \"AIzaSyCopFWv0YMtXgVgDtt5ujO_v_3xbPV-LCA\"\r\n    // AIzaSyCopFWv0YMtXgVgDtt5ujO_v_3xbPV-LCA\r\n})(GoogleMap)"],"mappings":"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"},"metadata":{},"sourceType":"module"}