{"ast":null,"code":"import _slicedToArray from\"C:/Users/Zephy/OneDrive/Documents/Personal/Coding/Coding Projects/WhatoEat/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{filterShops}from'../utils/utils.js';import Shop from'./Shop.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Shoplist(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),activeShops=_useState2[0],setActiveShops=_useState2[1];var _useState3=useState(\"shoplist-filter-button-unselected\"),_useState4=_slicedToArray(_useState3,2),distanceFilter=_useState4[0],setDistanceFilter=_useState4[1];var _useState5=useState(\"shoplist-filter-button-unselected\"),_useState6=_slicedToArray(_useState5,2),ratingFilter=_useState6[0],setRatingFilter=_useState6[1];var onDistanceSortClick=function onDistanceSortClick(){console.log(\"Distance filter clicked\");props.handleSortButton(\"distance\");};var onRatingSortClick=function onRatingSortClick(){console.log(\"Rating filter clicked\");props.handleSortButton(\"rating\");};var shopNames=props.shops.map(function(shop){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Shop,{name:shop['name'],details:shop})},shop['place_id']);});var extended=\"shoplist-hidden\";if(props.extended===true){extended=\"shoplist-extended\";}var hideFilter=\"shoplist-filter-container\";if(extended===\"shoplist-extended\"&&props.shops.length==0){hideFilter=\"shoplist-filter-container-hidden\";}useEffect(function(){setActiveShops(props.shops);console.log(activeShops);});return/*#__PURE__*/_jsxs(\"div\",{className:extended,children:[props.shops.length==0?/*#__PURE__*/_jsx(\"p\",{children:\"No shops loaded.\"}):/*#__PURE__*/_jsxs(\"div\",{className:hideFilter,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sort by: \"}),/*#__PURE__*/_jsx(\"button\",{className:ratingFilter,onClick:onRatingSortClick,children:\"Rating\"}),/*#__PURE__*/_jsx(\"button\",{className:distanceFilter,onClick:onDistanceSortClick,children:\"Distance\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"shoplist-list\",children:shopNames})]});}export default Shoplist;","map":{"version":3,"names":["React","useEffect","useState","filterShops","Shop","Shoplist","props","activeShops","setActiveShops","distanceFilter","setDistanceFilter","ratingFilter","setRatingFilter","onDistanceSortClick","console","log","handleSortButton","onRatingSortClick","shopNames","shops","map","shop","extended","hideFilter","length"],"sources":["C:/Users/Zephy/OneDrive/Documents/Personal/Coding/Coding Projects/WhatoEat/client/src/components/Shoplist.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { filterShops } from '../utils/utils.js';\r\nimport Shop from './Shop.js';\r\n\r\nfunction Shoplist(props) {\r\n\r\n    const [activeShops, setActiveShops] = useState([]);\r\n    const [distanceFilter, setDistanceFilter] = useState(\"shoplist-filter-button-unselected\");\r\n    const [ratingFilter, setRatingFilter] = useState(\"shoplist-filter-button-unselected\")\r\n\r\n    const onDistanceSortClick = () => {\r\n        console.log(\"Distance filter clicked\")\r\n        props.handleSortButton(\"distance\")\r\n    }\r\n\r\n    const onRatingSortClick = () => {\r\n        console.log(\"Rating filter clicked\")\r\n        props.handleSortButton(\"rating\")\r\n    }\r\n    \r\n    const shopNames = props.shops.map((shop) => \r\n        <li key={shop['place_id']}><Shop name={shop['name']} details ={shop}/></li>\r\n    );\r\n\r\n    let extended = \"shoplist-hidden\"\r\n    \r\n    if (props.extended === true) {\r\n        extended = \"shoplist-extended\"\r\n\r\n    }\r\n\r\n    let hideFilter = \"shoplist-filter-container\"\r\n    if (extended === \"shoplist-extended\" && props.shops.length == 0) {\r\n        hideFilter = \"shoplist-filter-container-hidden\"\r\n    }\r\n\r\n    useEffect(() => {\r\n        setActiveShops(props.shops)\r\n        console.log(activeShops)\r\n    });\r\n\r\n    \r\n    return (\r\n        <div className={extended}>\r\n\r\n            {props.shops.length==0 ?\r\n\r\n            <p>No shops loaded.</p> : \r\n\r\n            <div className={hideFilter}>\r\n                <p>Sort by: </p>\r\n                <button className={ratingFilter} onClick = {onRatingSortClick}>Rating</button>\r\n                <button className={distanceFilter} onClick = {onDistanceSortClick}>Distance</button>\r\n            </div>\r\n            }\r\n            \r\n\r\n            <ul className=\"shoplist-list\">{shopNames}</ul>\r\n            \r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Shoplist;"],"mappings":"uKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,IAAP,KAAiB,WAAjB,C,wFAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CAErB,cAAsCJ,QAAQ,CAAC,EAAD,CAA9C,wCAAOK,WAAP,eAAoBC,cAApB,eACA,eAA4CN,QAAQ,CAAC,mCAAD,CAApD,yCAAOO,cAAP,eAAuBC,iBAAvB,eACA,eAAwCR,QAAQ,CAAC,mCAAD,CAAhD,yCAAOS,YAAP,eAAqBC,eAArB,eAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAC9BC,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACAT,KAAK,CAACU,gBAAN,CAAuB,UAAvB,EACH,CAHD,CAKA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CAC5BH,OAAO,CAACC,GAAR,CAAY,uBAAZ,EACAT,KAAK,CAACU,gBAAN,CAAuB,QAAvB,EACH,CAHD,CAKA,GAAME,CAAAA,SAAS,CAAGZ,KAAK,CAACa,KAAN,CAAYC,GAAZ,CAAgB,SAACC,IAAD,qBAC9B,iCAA2B,KAAC,IAAD,EAAM,IAAI,CAAEA,IAAI,CAAC,MAAD,CAAhB,CAA0B,OAAO,CAAGA,IAApC,EAA3B,EAASA,IAAI,CAAC,UAAD,CAAb,CAD8B,EAAhB,CAAlB,CAIA,GAAIC,CAAAA,QAAQ,CAAG,iBAAf,CAEA,GAAIhB,KAAK,CAACgB,QAAN,GAAmB,IAAvB,CAA6B,CACzBA,QAAQ,CAAG,mBAAX,CAEH,CAED,GAAIC,CAAAA,UAAU,CAAG,2BAAjB,CACA,GAAID,QAAQ,GAAK,mBAAb,EAAoChB,KAAK,CAACa,KAAN,CAAYK,MAAZ,EAAsB,CAA9D,CAAiE,CAC7DD,UAAU,CAAG,kCAAb,CACH,CAEDtB,SAAS,CAAC,UAAM,CACZO,cAAc,CAACF,KAAK,CAACa,KAAP,CAAd,CACAL,OAAO,CAACC,GAAR,CAAYR,WAAZ,EACH,CAHQ,CAAT,CAMA,mBACI,aAAK,SAAS,CAAEe,QAAhB,WAEKhB,KAAK,CAACa,KAAN,CAAYK,MAAZ,EAAoB,CAApB,cAED,uCAFC,cAID,aAAK,SAAS,CAAED,UAAhB,wBACI,gCADJ,cAEI,eAAQ,SAAS,CAAEZ,YAAnB,CAAiC,OAAO,CAAIM,iBAA5C,oBAFJ,cAGI,eAAQ,SAAS,CAAER,cAAnB,CAAmC,OAAO,CAAII,mBAA9C,sBAHJ,GANJ,cAcI,WAAI,SAAS,CAAC,eAAd,UAA+BK,SAA/B,EAdJ,GADJ,CAoBH,CAED,cAAeb,CAAAA,QAAf"},"metadata":{},"sourceType":"module"}